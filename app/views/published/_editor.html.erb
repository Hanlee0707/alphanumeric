<% provide(:title, "Manage Published") %>
<div class="span12">
  <div class="span12 row center">
    <h3>Published Articles</h3>
  </div>
  <div class="span12 row center"></div>
  <% if !articles.empty? %>
  <div class="span1"></div>
  <div class="span10">
    <table class="table table-striped table-hover">
      <thead>
	<tr>
	  <%= form_tag(archive_articles_path(:editor_id => current_employee.id), method: :post) do %>
	  <th class="span1"><%=check_box_tag 'check_all', 'check_all', false%></th>
	  <th class="span5">TITLE</th>
	  <th class="span3">CONTRIBUTOR</th>
	  <th class="span2">EDITOR</th>
	  <th class="span2">PUBLISHED TIME</th>
	</tr>
      </thead>
      <tbody>
	<% articles.each do |article| %>
	<tr>
	  <td><%= check_box_tag 'article_'+article.id.to_s, article.id, false %> </td>
	  <td><%= link_to article.title, editor_article_path(current_employee, article)%></td>
	  <td><%= article.contributor.first_name + " " + article.contributor.last_name %></td>
	  <td><%= article.editor.first_name + " " + article.editor.last_name %></td>
	  <% if article.published_at.nil? %>
	  <td>NO TIME </td>
	  <% else %>
	  <td><%= article.published_at.localtime.strftime "%m/%d/%y %I:%M:%S %p" %></td>
	  <% end %>
	</tr>
	<% end %>
      </tbody>
    </table>
    <div class="span12 row center"><%= will_paginate articles, :renderer => BootstrapPagination::Rails, :previous_label => "←", :next_label => "→" %></div>
    <div class="span12 row center">
      <%= submit_tag "Archive Selected", class:'btn btn-primary' %>
    </div>
    <% end %>
  </div>
  <div class="span1"></div>
  <% else %>
  <div class="span12 row center">
    <strong>There are no articles.</strong>
  </div>
  <% end %>
</div>
