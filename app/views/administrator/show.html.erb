<% provide(:title, "Administrator") %>


<div class="span12"> 
  <div class="span12 row center"></div>
  <div class="span12 row">
    <div class="span1"></div>
    <div class="span7 row">
      <div class="span4">
	<%= link_to 'New Employee', new_administrator_employee_path(@administrator), class: "btn btn-primary make-white down" %>
      </div>
      <div class="span8"></div>
    </div>
    <div class="span4 right">
      <div class="span3"></div>
      <div class="span7">
	<%= form_for administrator_path(current_employee), :url=>{:action => 'show'} do |f| %>
	<%= text_field_tag 'search', "", placeholder: 'Name or Email', class:'down input-search' %>
	<%= button_tag "Search", class: 'btn' %>
	<% end %>
      </div>
      <div class="span2"></div>
    </div>
  </div>
  <% if !@employees.empty? %>
  <div class="span1"></div>
  <div class="span10">
    <table class="table table-striped table-hover">
      <thead>
	<tr>
	  <th class="span4">NAME</th>
	  <th class="span3">EMAIL</th>
	  <th class="span5">POSITION</th>
	</tr>
      </thead>
      <tbody>
	<% @employees.each do |employee| %>
	<tr>
	  <td><%= link_to employee.first_name+" "+employee.last_name, administrator_employee_path(current_employee, employee) %></td>
	  <td><%= employee.email %></td>
	  <td>
	    <% positions = [] %>
	    <% employee.employee_positions.each do |position| %>
	    <% positions.append(position.position) %>
	    <% end %>
	    <%= positions.join(', ') %>
	  </td>
	</tr>
	<% end %>
      </tbody>
    </table>
    <div class="span12 row center"><%= will_paginate @employees, :renderer => BootstrapPagination::Rails, :previous_label => "←", :next_label => "→" %></div>
  </div>
  <div class="span1"></div>
  <% else %>
  <div class="span12 row center"><strong>There are no employees with that criteria.</strong></div>
  <% end %>
</div>



